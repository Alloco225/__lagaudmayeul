<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Rejoins les 500 pour participer à la campagne Adjemin pendant 10 jours.">
    <!-- Montserrat Font -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Material Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- Mobile Css -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/responsive.css">
    <link rel="stylesheet" href="../css/adjemin.css">
    <link rel="stylesheet" href="../css/forms.css">

    <title>
        
    </title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous">
    </script>


    <link href="https://fonts.googleapis.com/css2?family=Merienda+One&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="../css/intlTelInput.css">

    <link rel="icon" href="img/logo.png">
    <link rel="stylesheet" href="../css/500.css">


    <style>
        
        .text500 {
            font-family: 'Merienda One', cursive;
            font-weight: bold;
            /* color: #2DC068; */
        }

        .text-link {
            text-decoration: underline;
            text-decoration-color: #2DC068;
        }

        input.is-invalid::placeholder {
            color: red;
        }

        input.is-invalid {
            color: red !important;
        }
        .text-area{
            border: none;
            width: 100%;
            background: #f3f7fa; 
            
        }
    </style>
</head>

<body class="">
    <div id="fixed-area" class="bg-pale text-primary text-center"
        style="background:url('../images/bg/img_mountains.jpg');background-position:center right;background-repeat:no-repeat;background-size:cover;">
        <div id="position-relative" class="container px-4" style="display: none;">
            
            
        </div>
    </div> <!-- /fixed area -->
    <div id="flex-area" class="">
        <div id="form-area" class=" ">
            <div id="formarea-container" class="container-fluid">
                <div class="container-fluid mt-1" id="form-container">
                    <div class="row">
                        <a href="/index.html">
                        <i class="material-icons font-weight-bold fs-b">arrow_back</i> 
                            Retour
                        </a>
                    </div>
                    <div class="d-flex justify-content-center">
                        
                        <h2 class="text-secondary font-weight-bold text-center d-none">
                            Bravo !
                        </h2>
                        
                        <h1 class="text-secondary font-weight-bold text-center mt-md-5 mt-2">
                            Contactez-nous
                        </h1>
                    </div>
                    <div class="d-flex justify-content-center">
                        <img src="img/logo.png" alt="" class="mx-auto" width="100px" height="auto">
                    </div>
                    
                    <div id="mailing-list" class="my-3 p-3 text-center">
                        <div class=" mb-2 text-secondary">
                            <h4>
                                Vous avez un message ? Une question ? Un projet ?
                            </div>
                            </h4>
                        </div>
                        <div>
                            <p class="text-center">
                                Ecrivez-moi et discutons-en !
                            </p>
                            
                        
                    </div>

                    <form action="{{route('ambassadors.store" method="POST" id="form500">
                        
                        <!-- Perso info inputgroup -->
                        <div class="inputgroup">
                            <!-- First name last name -->
                            <div class="cool-row ">
                                <div class="pt-3 cool-input-half">
                                    <div class="cool-input">
                                        <span class="prepend">
                                            <i class="fa fa-user" aria-hidden="true"></i>
                                        </span>
                                        <input type="text" class="input -is-invalid " placeholder="Nom et prénom" name="name" required value="">
                                    </div>
                                </div> <!-- /pt-3 cool-input-half -->
                                <div class="pt-3 cool-input-half">
                                    <div class="cool-input">
                                        <i class="material-icons ml-2" aria-hidden="true">assignment_ind</i>
                                        <span class="prepend">
                                            <!-- <i class="fa fa-user" aria-hidden="true"></i> -->
                                        </span>
                                        <input type="text" class="input -is-invalid "
                                            placeholder="Sujet"
                                            name="subject" required value="">
                                    </div>
                                </div> <!-- /pt-3 cool-input-half -->
                            </div> <!-- /cool-row -->
                            <div class="cool-row">
                                <span
                                    class="text-danger">
                                    <!-- Message first_name -->
                                </span>
                                <span
                                class="text-danger ">
                                    <!-- Message first_name -->
                                </span>
                            </div>
                            <div class="cool-row">
                                <div class="pt-3 cool-input-half">
                                    <div class="cool-input">
                                        <span class="prepend">
                                            <i class="material-icons"> email</i>
                                        </span>
                                        <input type="email" class="input -is-invalid "
                                            placeholder="Adresse email"
                                            name="email" required value="">
                                    </div>
                                </div> <!-- /pt-3 cool-input-half -->
                                <div class="pt-3 cool-input-half">
                                    <div class="cool-input">
                                        <span class="prepend">
                                            <i class="fa fa-whatsapp" aria-hidden="true"></i>
                                        </span>
                                        <input type="tel" class="input -is-invalid "
                                            placeholder="Numéro Whatsapp"
                                            name="whatsapp_number" id="whatsapp_number" required>
                                    </div>
                                </div> <!-- /pt-3 cool-input-half -->
                                <!-- div class="pt-3 cool-input-half position-relative">
                                    <div class="cool-input">
                                        <input type="text" name="phone_number"
                                            class="input -is-invalid " id="phone_number"
                                            placeholder="Numéro de telephone" data-msg="x"
                                            style="display: inline-block;" value="" />
                                        <input type="hidden" name="dial_code" id="dial_code">
                                        <input type="hidden" name="country_code" id="country_code" value="" />
                                    </div>
                                </!-- --> <!-- /pt-3 cool-input-half -->
                            </div> <!-- /cool-row -->
                            <div class="cool-row">
                                <span
                                    class="text-danger">
                                    <!-- @error('email') -->
                                </span>
                                <span
                                    class="text-danger ">
                                    <!-- @error('phone_number') -->
                                </span>
                            </div>
                            <div class="cool-row">
                                <span id="valid-msg" class="hide"></span>
                                <span id="error-msg" class="hide" style="color:red;"></span>
                                <div class="validation"></div>
                            </div>
                            <div class="cool-row">
                                <div class="pt-3 cool-input-full">
                                    <div class="cool-input">
                                        <span class="prepend">
                                            <!-- <i class="fa fa-send" aria-hidden="true"></i> -->
                                            <i class="material-icons">message</i>
                                        </span>
                                            <textarea name="message" id="input-message" class="text-area" cols="30" rows="10"></textarea>
                                    </div>
                                </div> <!-- /pt-3 cool-input-half -->
                            </div> <!-- /cool-row -->
                        </div>
                        <div class="cool-row">
                            <span
                                class="text-danger ">
                                <!-- @error('whatsapp_number') -->
                            </span>
                        </div>
                        <!-- Submit -->
                        <div class="text-center">

                            <a type="submit" id="sumbmitform" onclick="event.preventDefault();"
                                class="btn btn-secondary p-3 my-3 font-weight-bold text-uppercase mt-5">
                                Envoyer
                                <i class="fa fa-send ml-2"></i>
                            </a>
                        </div>
                </div>
                </form>
                
            </div>
        </div>
    </div>
    </div>
    
    <script>
        //
        var $input = {
            first_name: $("#first_name"),
            last_name: $("#last_name"),
            email: $("#email"),
            phone_number: $("#phone_number"),
            whatsapp_number: $("#whatsapp_number"),
        }

        $input.phone_number.on('keyup', function () {

            // if($("#dial_code").val() == ''){

            $input.whatsapp_number.val($(this).val())
            // }else{
            //     $input.whatsapp_number.val($("#dial_code").val()+$(this).val())
            // }
        });


        function validateForm() {
            if ($input.first_name == null) {
                alert('');
            }
            if ($input.first_name == null) {
                alert('');
            }
            if ($input.first_name == null) {
                alert('');
            }
            if ($input.first_name == null) {
                alert('');
            }
        }
        //
    </script>
    <script src="js/intlTelInput.js"></script>
    <script>
        var input = document.querySelector("#phone_number");

        var errorMsg = document.querySelector("#error-msg"),
            validMsg = document.querySelector("#valid-msg"),
            form500 = document.querySelector("#form500");


        var errorMap = ["&#65794; Numéro Invalide !", "&#65794; Code de pays invalide !",
            "&#65794; Numéro de téléphone Trop Court", "&#65794; Numéro de téléphone Trop Long",
            "&#65794; Numéro Invalide"
        ];
        var iti = window.intlTelInput(input, {
            dropdownContainer: document.body,
            separateDialCode: true,
            initialCountry: "CI",
            geoIpLookup: function (success, failure) {
                $.get("https://ipinfo.io", function () {}, "jsonp").always(function (resp) {
                    var countryCode = (resp && resp.country) ? resp.country : "";
                    success(countryCode);
                });
            },
            placeholderNumberType: "MOBILE",
            preferredCountries: ['ci'],
            utilsScript: "js/utils.js?",
        });
        var reset = function () {
            input.classList.remove("error");
            errorMsg.innerHTML = "";
            errorMsg.classList.add("hide");
            validMsg.classList.add("hide");
        };

        // on blur: validate
        input.addEventListener('blur', function () {
            reset();
            if (input.value.trim()) {
                if (iti.isValidNumber()) {
                    $("#dial_code").val(iti.getSelectedCountryData().dialCode);
                    // $("#phone_number").val(iti.);
                    $("#country_code").val(iti.getSelectedCountryData().iso2.toUpperCase());
                    // $()
                    // console
                    if ($("#dial_code").val() == '') {
                        $('#whatsapp_number').val("225" + $(this).val())
                    } else {
                        $('#whatsapp_number').val($("#dial_code").val() + $("#phone_number").val())
                    }
                    form500.submit();

                    // $("#whatsapp_number").val($("#dial_code").value+$("#phone_number").value);
                    //console.log(iti.s.phone);
                    validMsg.classList.remove("hide");
                } else {
                    input.classList.add("error");
                    var errorCode = iti.getValidationError();
                    // console.log("Error from intInput");
                    // console.log(errorCode);
                    errorMsg.innerHTML = errorMap[errorCode];
                    errorMsg.classList.remove("hide");
                }
            }
        });

        // on keyup / change flag: reset
        input.addEventListener('change', reset);
        input.addEventListener('keyup', reset);
    </script>

</body>

</html>
